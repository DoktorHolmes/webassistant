<html>
<head>
  
  <title="BaxtonWeb 0.1">
    <link rel="stylesheet" type="text/css" href="index.css">
    </head>

<body>
<div id="mainDiv" align="center">
<image id="icon" src="images/faces/house.png">
  <input type="text" id="DialogueInput"></input>
  <audio id="speechMain"></audio>
  </div>
<script>
  var voiceType = "wilson";
  var textBox = document.getElementById("DialogueInput");
  function playRandomLine(sounds, voice){
    var dialogueline = sounds[Math.floor(Math.random() * sounds.length)];
    var audio = document.getElementById("speechMain");
    audio.src = ("voicelines/" + voice + "/" + dialogueline);
    audio.play();
  }
  function checkInput(){
    try{
    var value = textBox.value;
    var linearray;
    var dialogue = {
      "hello": ["greeting01", "greeting02.mp3", "greeting03.mp3"],
      "hey": ["greeting01", "greeting02.mp3", "greeting03.mp3"],
      "hi": ["greeting01", "greeting02.mp3", "greeting03.mp3"],
      "unknown": ["unknown01.mp3", "unknown02.mp3"]
        }
    
    if(dialogue[value]){
        linearray = dialogue[value];
        console.log(linearray);
    }
    else{
        linearray = dialogue["unknown"];
        console.log(linearray);
    }
    playRandomLine(linearray, voiceType);
    }
  }
  catch(e){
    console.log(e);
    playRandomLine(["error.mp3", "error2.mp3", "error3.mp3"], voiceType);
   }
  
  textBox.onkeydown = function(e){
   if(e.keyCode == 13){
     checkInput()
   }
};
  textBox.addEventListener("submit", checkInput);
</script>
</body>
</html>
